@model List<DNUStudyPlanner.Models.StudyPlan>
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>K·∫ø ho·∫°ch h·ªçc t·∫≠p</title>
    <link rel="stylesheet" href="~/css/plan.css" />
</head>
<body>
<div class="sidebar">
    <h2>DNU Study Planner</h2>
    <a href="/Home/Dashboard">üè† Trang t·ªïng quan</a>
    <a href="/Home/Plan">üìÖ K·∫ø ho·∫°ch h·ªçc t·∫≠p</a>
    <a href="/Home/Profile">üë§ H·ªì s∆° c√° nh√¢n</a>
    <a href="/Home/MySubjects">üìò M√¥n h·ªçc c·ªßa t√¥i</a>
    <a href="/Account/Login">üö™ ƒêƒÉng xu·∫•t</a>
</div>

<div class="main-content">
    <header class="main-header">
        <h1>K·∫ø ho·∫°ch h·ªçc t·∫≠p</h1>
        <p>Qu·∫£n l√Ω v√† theo d√µi l·ªô tr√¨nh h·ªçc t·∫≠p c·ªßa b·∫°n.</p>
        <a asp-controller="Home" asp-action="CreatePlan" class="btn-add-plan">+ Th√™m K·∫ø ho·∫°ch m·ªõi</a>
    </header>

    <section class="plan-list">
        @if (Model != null && Model.Any())
        {
            @foreach (var plan in Model)
            {
                <div class="plan-card">
                    <div class="plan-header">
                        <h3>@plan.Title</h3>
                        <div class="plan-actions">
                            <a asp-action="EditPlan" asp-route-id="@plan.Id" class="btn-edit">S·ª≠a</a>
                            <form asp-action="DeletePlan" method="post" style="display: inline;">
                                <input type="hidden" name="id" value="@plan.Id" />
                                <button type="submit" class="btn-delete" 
                                        onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a k·∫ø ho·∫°ch n√†y?');">
                                    X√≥a
                                </button>
                            </form>
                        </div>
                    </div>
                    <p><strong>Ghi ch√∫:</strong> @plan.Notes</p>
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: @plan.Progress%;">
                            @plan.Progress%
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="no-plans-message">
                <p>B·∫°n ch∆∞a c√≥ k·∫ø ho·∫°ch h·ªçc t·∫≠p n√†o. H√£y t·∫°o m·ªôt k·∫ø ho·∫°ch m·ªõi!</p>
            </div>
        }
    </section>
</div>
</body>
</html>